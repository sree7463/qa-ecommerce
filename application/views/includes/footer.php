<!-- Footer ================================================================== -->
	<div  id="footerSection">
	<div class="container">
		<div class="row">
			<div class="span3">
				<h5>ACCOUNT</h5>
				<a href="login.html">YOUR ACCOUNT</a>
				<a href="login.html">PERSONAL INFORMATION</a> 
				<a href="login.html">ADDRESSES</a> 
				<a href="login.html">DISCOUNT</a>  
				<a href="login.html">ORDER HISTORY</a>
			 </div>
			<div class="span3">
				<h5>INFORMATION</h5>
				<a href="contact.html">CONTACT</a>  
				<a href="register.html">REGISTRATION</a>  
				<a href="legal_notice.html">LEGAL NOTICE</a>  
				<a href="tac.html">TERMS AND CONDITIONS</a> 
				<a href="faq.html">FAQ</a>
			 </div>
			<div class="span3">
				<h5>OUR OFFERS</h5>
				<a href="#">NEW PRODUCTS</a> 
				<a href="#">TOP SELLERS</a>  
				<a href="special_offer.html">SPECIAL OFFERS</a>  
				<a href="#">MANUFACTURERS</a> 
				<a href="#">SUPPLIERS</a> 
			 </div>
			<div id="socialMedia" class="span3 pull-right">
				<h5>SOCIAL MEDIA </h5>
				<a href="#"><img width="60" height="60" src="<?php echo base_url(); ?>Assets/themes/images/facebook.png" title="facebook" alt="facebook"/></a>
				<a href="#"><img width="60" height="60" src="<?php echo base_url(); ?>Assets/themes/images/twitter.png" title="twitter" alt="twitter"/></a>
				<a href="#"><img width="60" height="60" src="<?php echo base_url(); ?>Assets/themes/images/youtube.png" title="youtube" alt="youtube"/></a>
			 </div> 
		 </div>
		<p class="pull-right">&copy; Bootshop</p>
	</div><!-- Container End -->
	</div>
<!-- Placed at the end of the document so the pages load faster ============================================= -->
	<!-- <script src="<?php echo base_url(); ?>Assets/themes/js/jquery.js" type="text/javascript"></script> -->
	<script src="<?php echo base_url(); ?>Assets/js/jquery.min.js"></script>
	<script src="<?php echo base_url(); ?>Assets/themes/js/bootstrap.min.js" type="text/javascript"></script>
	<script src="<?php echo base_url(); ?>Assets/themes/js/google-code-prettify/prettify.js"></script>
	
	<script src="<?php echo base_url(); ?>Assets/themes/js/bootshop.js"></script>
    <script src="<?php echo base_url(); ?>Assets/themes/js/jquery.lightbox-0.5.js"></script>
	
	<!-- OWL CAROUSEL -->
	<script src="<?php echo base_url(); ?>Assets/js/owl.carousel.min.js"></script>

	<!-- JQUERY UI -->
	<script src="<?php echo base_url(); ?>Assets/jquery-ui/jquery-ui.min.js"></script>

	<!-- VUE JS -->
	<!-- <script src="<?php echo base_url('Assets/js/vue.js'); ?>"></script> -->

	<!-- SWEET ALERT JS -->
	<script src="<?php echo base_url('Assets/js/sweetalert.min.js'); ?>"></script>

	<!-- NOTIFY JS -->
	<script src="<?php echo base_url('Assets/js/notify.min.js'); ?>"></script>

	<!-- SELECT2 JS -->
	<script src="<?php echo base_url('Assets/select2/dist/js/select2.min.js'); ?>"></script>

	<!-- COUNTRY SELECT JS -->
	<script src="<?php echo base_url('Assets/country-select/build/js/countrySelect.min.js'); ?>"></script>
	
	<!-- Themes switcher section ============================================================================================= -->
<div id="secectionBox">
<link rel="stylesheet" href="<?php echo base_url(); ?>Assets/themes/switch/themeswitch.css" type="text/css" media="screen" />
<script src="<?php echo base_url(); ?>Assets/themes/switch/theamswitcher.js" type="text/javascript" charset="utf-8"></script>
	<div id="themeContainer">
	<div id="hideme" class="themeTitle">Style Selector</div>
	<div class="themeName">Oregional Skin</div>
	<div class="images style">
	<a href="themes/css/#" name="bootshop"><img src="<?php echo base_url(); ?>Assets/themes/switch/images/clr/bootshop.png" alt="bootstrap business templates" class="active"></a>
	<a href="themes/css/#" name="businessltd"><img src="<?php echo base_url(); ?>Assets/themes/switch/images/clr/businessltd.png" alt="bootstrap business templates" class="active"></a>
	</div>
	<div class="themeName">Bootswatch Skins (11)</div>
	<div class="images style">
		<a href="themes/css/#" name="amelia" title="Amelia"><img src="<?php echo base_url(); ?>Assets/themes/switch/images/clr/amelia.png" alt="bootstrap business templates"></a>
		<a href="themes/css/#" name="spruce" title="Spruce"><img src="<?php echo base_url(); ?>Assets/themes/switch/images/clr/spruce.png" alt="bootstrap business templates" ></a>
		<a href="themes/css/#" name="superhero" title="Superhero"><img src="<?php echo base_url(); ?>Assets/themes/switch/images/clr/superhero.png" alt="bootstrap business templates"></a>
		<a href="themes/css/#" name="cyborg"><img src="<?php echo base_url(); ?>Assets/themes/switch/images/clr/cyborg.png" alt="bootstrap business templates"></a>
		<a href="themes/css/#" name="cerulean"><img src="<?php echo base_url(); ?>Assets/themes/switch/images/clr/cerulean.png" alt="bootstrap business templates"></a>
		<a href="themes/css/#" name="journal"><img src="<?php echo base_url(); ?>Assets/themes/switch/images/clr/journal.png" alt="bootstrap business templates"></a>
		<a href="themes/css/#" name="readable"><img src="<?php echo base_url(); ?>Assets/themes/switch/images/clr/readable.png" alt="bootstrap business templates"></a>	
		<a href="themes/css/#" name="simplex"><img src="<?php echo base_url(); ?>Assets/themes/switch/images/clr/simplex.png" alt="bootstrap business templates"></a>
		<a href="themes/css/#" name="slate"><img src="<?php echo base_url(); ?>Assets/themes/switch/images/clr/slate.png" alt="bootstrap business templates"></a>
		<a href="themes/css/#" name="spacelab"><img src="<?php echo base_url(); ?>Assets/themes/switch/images/clr/spacelab.png" alt="bootstrap business templates"></a>
		<a href="themes/css/#" name="united"><img src="<?php echo base_url(); ?>Assets/themes/switch/images/clr/united.png" alt="bootstrap business templates"></a>
		<p style="margin:0;line-height:normal;margin-left:-10px;display:none;"><small>These are just examples and you can build your own color scheme in the backend.</small></p>
	</div>
	<div class="themeName">Background Patterns </div>
	<div class="images patterns">
		<a href="themes/css/#" name="pattern1"><img src="<?php echo base_url(); ?>Assets/themes/switch/images/pattern/pattern1.png" alt="bootstrap business templates" class="active"></a>
		<a href="themes/css/#" name="pattern2"><img src="<?php echo base_url(); ?>Assets/themes/switch/images/pattern/pattern2.png" alt="bootstrap business templates"></a>
		<a href="themes/css/#" name="pattern3"><img src="<?php echo base_url(); ?>Assets/themes/switch/images/pattern/pattern3.png" alt="bootstrap business templates"></a>
		<a href="themes/css/#" name="pattern4"><img src="<?php echo base_url(); ?>Assets/themes/switch/images/pattern/pattern4.png" alt="bootstrap business templates"></a>
		<a href="themes/css/#" name="pattern5"><img src="<?php echo base_url(); ?>Assets/themes/switch/images/pattern/pattern5.png" alt="bootstrap business templates"></a>
		<a href="themes/css/#" name="pattern6"><img src="<?php echo base_url(); ?>Assets/themes/switch/images/pattern/pattern6.png" alt="bootstrap business templates"></a>
		<a href="themes/css/#" name="pattern7"><img src="<?php echo base_url(); ?>Assets/themes/switch/images/pattern/pattern7.png" alt="bootstrap business templates"></a>
		<a href="themes/css/#" name="pattern8"><img src="<?php echo base_url(); ?>Assets/themes/switch/images/pattern/pattern8.png" alt="bootstrap business templates"></a>
		<a href="themes/css/#" name="pattern9"><img src="<?php echo base_url(); ?>Assets/themes/switch/images/pattern/pattern9.png" alt="bootstrap business templates"></a>
		<a href="themes/css/#" name="pattern10"><img src="<?php echo base_url(); ?>Assets/themes/switch/images/pattern/pattern10.png" alt="bootstrap business templates"></a>
		
		<a href="themes/css/#" name="pattern11"><img src="<?php echo base_url(); ?>Assets/themes/switch/images/pattern/pattern11.png" alt="bootstrap business templates"></a>
		<a href="themes/css/#" name="pattern12"><img src="<?php echo base_url(); ?>Assets/themes/switch/images/pattern/pattern12.png" alt="bootstrap business templates"></a>
		<a href="themes/css/#" name="pattern13"><img src="<?php echo base_url(); ?>Assets/themes/switch/images/pattern/pattern13.png" alt="bootstrap business templates"></a>
		<a href="themes/css/#" name="pattern14"><img src="<?php echo base_url(); ?>Assets/themes/switch/images/pattern/pattern14.png" alt="bootstrap business templates"></a>
		<a href="themes/css/#" name="pattern15"><img src="<?php echo base_url(); ?>Assets/themes/switch/images/pattern/pattern15.png" alt="bootstrap business templates"></a>
		
		<a href="themes/css/#" name="pattern16"><img src="<?php echo base_url(); ?>Assets/themes/switch/images/pattern/pattern16.png" alt="bootstrap business templates"></a>
		<a href="themes/css/#" name="pattern17"><img src="<?php echo base_url(); ?>Assets/themes/switch/images/pattern/pattern17.png" alt="bootstrap business templates"></a>
		<a href="themes/css/#" name="pattern18"><img src="<?php echo base_url(); ?>Assets/themes/switch/images/pattern/pattern18.png" alt="bootstrap business templates"></a>
		<a href="themes/css/#" name="pattern19"><img src="<?php echo base_url(); ?>Assets/themes/switch/images/pattern/pattern19.png" alt="bootstrap business templates"></a>
		<a href="themes/css/#" name="pattern20"><img src="<?php echo base_url(); ?>Assets/themes/switch/images/pattern/pattern20.png" alt="bootstrap business templates"></a>
		 
	</div>
	</div>
</div>
<script>
$(document).ready(function() {
	/* CONSTANTS */
	const URL = '<?php echo base_url(); ?>';
	const COOKIE_DAYS = 7; // COOKIE WILL REMAIN FOR SEVENDAYS
	
	/* SET FAVOURITE PRODUCTS COOKIE TO AN EMPTY ARRAY ON START IF COOKIE NOT SET */
	if (getCookie("favourite_products").length == 0) {
		setCookie('favourite_products', JSON.stringify([]));
	}
	/* SET CART PRODUCTS COOKIE TO AN EMPTY ARRAY ON START IF COOKIE NOT SET */
	if (getCookie("cart_products").length == 0) {
		setCookie('cart_products', JSON.stringify([]));
	}

	

	/* FUNCTIONS */
	function setCookie(cname, cvalue) {
	  var d = new Date();
	  d.setTime(d.getTime() + (COOKIE_DAYS * 24 * 60 * 60 * 1000));
	  // d.setTime(d.getTime() + (minutes*60*1000));
	  var expires = "expires="+ d.toUTCString();
	  document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
	}

	function getCookie(cname) {
	  var name = cname + "=";
	  var decodedCookie = decodeURIComponent(document.cookie);
	  var ca = decodedCookie.split(';');
	  for(var i = 0; i <ca.length; i++) {
	    var c = ca[i];
	    while (c.charAt(0) == ' ') {
	      c = c.substring(1);
	    }
	    if (c.indexOf(name) == 0) {
	      return c.substring(name.length, c.length);
	    }
	  }
	  return "";
	}
	/* ../ FUNCTIONS */

    $('.owl-carousel').owlCarousel({
    loop:true,
    margin:10,
    nav:true,
    autoplay:true,
     autoplayTimeout:3000,
		autoplayHoverPause:false,
    responsive:{
        0:{
            items:4
        },
        600:{
            items:4
        },
        1000:{
            items:4
        }
    }
		});

		$("#country").countrySelect();

		$( "#slider-range" ).slider({
      range: true,
      min: 0,
      max: 2000,
      <?PHP 
      	if (isset($minvalue) && isset($maxvalue)) {
      		echo "values: [$minvalue, $maxvalue],";
      	} else {
      		echo "values: [0, 2000],";
      	}
      ?>
      slide: function( event, ui ) {
        $( "#amount" ).val($( "#slider-range" ).slider( "values", 0 ) + ' Rs' +
      " - " + $( "#slider-range" ).slider( "values", 1 ) + ' Rs' );
      },
      stop: function(ui) {
      	var price_range = $("#amount").val();
	    	$('#price_range_form').submit();
      }
    });
    $( "#amount" ).val($( "#slider-range" ).slider( "values", 0 ) + ' Rs' +
      " - " + $( "#slider-range" ).slider( "values", 1 ) + ' Rs' );

    $('form[name="search_product_form"]').submit(function(e) {
    	e.preventDefault();
    	var text = ($('#srchFld').val()).trim();
    	text = text.replace(/\s/g, "+");
    	if (text.length > 0) {
    		window.location = URL + 'search/' + text;
    	}
    });

    // FAVOURITE PRODUCT CLICK FUNCTIONALITY
    $('.fav-product').tooltip();


    // ***************** ADD PRODUCT TO CART CODE ****************************
    // INITIALIZE APP - ADD REMOVE FAVOURITE PRODUCT FUNCTIONALITY
    $(".add-to-cart").click(add_product_to_cart);
    $(".remove-from-cart").click(remove_product_from_cart);

    // ADD PRODUCT TO CART
    function add_product_to_cart(e) {
    	e.preventDefault();
    	var product_id = $(this).attr('data-product-id');
    	var array_of_product_ids = [];
    	// CHECK IF THIS PRODUCT IS ALREADY ADDED OR NOT
    	var previous_products = getCookie('cart_products');
    	if (previous_products.length != 0) {
    		var array = JSON.parse(previous_products);
    		if (array.includes(product_id)) {
  			} else {
  				array.push(product_id);
  				$("#cart_product_count").text(array.length);
  				setCookie('cart_products', JSON.stringify(array));
		    	$.notify("Product added to cart!", 'success');
		    	$(this).replaceWith(`<button data-product-id='${product_id}' class='btn btn-danger btn-xs remove-from-cart'>Remove</button>`);
		    	$(".remove-from-cart").click(remove_product_from_cart);
  			}
    	} else {
    		array_of_product_ids.push(product_id);
    		$("#cart_product_count").text(array_of_product_ids.length);
				setCookie('cart_products', JSON.stringify(array_of_product_ids));
				$.notify("Product added to cart!", 'success');
				$(this).replaceWith(`<button data-product-id='${product_id}' class='btn btn-danger btn-xs remove-from-cart'>Remove</button>`);
				$(".remove-from-cart").click(remove_product_from_cart);
    	}
    	// ../ CHECK IF THIS PRODUCT IS ALREADY ADDED OR NOT
    }
    // REMOVE FROM CART FUNCTION
    function remove_product_from_cart() {
    	var product = $(this).attr('data-product-id');
    	var previous_products = getCookie('cart_products');

    	if (previous_products.length != 0) {
    		var array = JSON.parse(previous_products);
    		if (array.includes(product)) {
    			var index = array.indexOf(product);
    			array.splice(index, 1);
    			$("#cart_product_count").text(array.length);
    			setCookie('cart_products', JSON.stringify(array));
    			$(this).replaceWith(`<a class="btn add-to-cart" data-product-id="${product}" href="#">Add to <i class="fas fa-shopping-cart"></i></a>`);
    			$(".add-to-cart").click(add_product_to_cart);
  			}
    	}
    }
    // ../ ***************** ADD PRODUCT TO CART CODE ****************************

    // ****************** ADD PRODUCT TO FAVOURTIE ******************
		// ADD TO FAVOURITE
    $(".fav-product").click(add_or_remove_product_from_favourite);

    function add_or_remove_product_from_favourite() {
    	var product_id = $(this).attr("data-product-id");
    	var previous_favourite_products = JSON.parse(getCookie("favourite_products"));
    	if (previous_favourite_products.includes(product_id)) {
    		// REMOVE FROM FAVOURITE
    		var index = previous_favourite_products.indexOf(product_id);
    		previous_favourite_products.splice(index, 1);
    		setCookie("favourite_products", JSON.stringify(previous_favourite_products));
    		// $(this).find('.fa-heart').toggleClass("favourite-product");
    		$(this).parent().parent().fadeOut(300, function() { 
    			$(this).remove(); 
    			if ($('.table-bordered > tbody > tr').length == 0) {
	    			$('.table-bordered > tbody').append(`<tr>
							<td colspan="4"><i>No product saved as favourite!</i></td>
	          </tr>`);
	    		}
    		});
    	} else {
    		// ADD TO FAVOURITE
    		previous_favourite_products.push(product_id);
    		setCookie("favourite_products", JSON.stringify(previous_favourite_products));
    		$.notify("Product added to favourite list!", 'success');
    		$(this).find('.fa-heart').toggleClass("favourite-product");
    	}
    	// $.notify("Product added to wishlist!", 'success');
    	// console.log();
    }
    // ****************** ../ ADD PRODUCT TO FAVOURTIE CODE ******************

    // ****************** CART CODE ******************
		$('.increase_pc_btn').click(function() {
			var product_count = parseInt($(this).parent().find('.product_count').val());
			var product_price = parseInt($(this).attr('data-product-price'));
			product_count += 1;
			if (product_count <= 20) {
				$(this).parent().find('.product_count').val(product_count);
				$(this).parent().parent().parent().find('.multiplied_price').text(product_count * product_price);
				update_overal_total();
			}
		});

		$('.decrease_pc_btn').click(function() {
			var product_count = parseInt($(this).parent().find('.product_count').val());
			var product_price = parseInt($(this).attr('data-product-price'));
			product_count -= 1;
			if (product_count > 0) {
				$(this).parent().find('.product_count').val(product_count);
				$(this).parent().parent().parent().find('.multiplied_price').text(product_count * product_price);
				update_overal_total();
			}
		});

		$('.remove-product-from-cart').click(function() {
			var product = $(this).attr('data-product-id');
			swal("Do you really want to remove this product from cart?", {
			  buttons: {
			    cancel: "Cancel",
			    catch: {
			      text: "Confirm",
			      value: "confirm",
			    }
			  },
			})
			.then((value) => {
			  switch (value) {
			    case "confirm":
			    	var previous_products = getCookie('cart_products');

			    	if (previous_products.length != 0) {
			    		var array = JSON.parse(previous_products);
			    		if (array.includes(product)) {
			    			var index = array.indexOf(product);
			    			array.splice(index, 1);
			    			$("#cart_product_count").text(array.length);
			    			setCookie('cart_products', JSON.stringify(array));
			  			}
			    	}
			      $(this).closest('tr').remove();
			      if (update_overal_total() < 1) {
			      	$('#submit_order').remove();
			      }
			      break;
			 
			    default:
			      // swal("Got away safely!");
			  }
			});
			// console.log($(this).closest('tr'));
		})

		function update_overal_total() {
			var total_price = 0;
			$(".multiplied_price").each(function() {
				total_price += parseInt($(this).text());
			});
			$("#total_price").text(total_price);
			return total_price;
		}
    // ****************** ../ CART CODE ******************

    // ****************** SAVE COOKIE FOR CART PRODCUTS ON SUBMIT ORDER *****************
    $("#submit_order").click(function(e) {
    	e.preventDefault();
    	var products = [];
    	$(".product_count").each(function() {
    		products.push({
    			product_id: $(this).attr('data-product-id'),
    			product_count: $(this).val()
    		})
    	});
    	$.ajax({
    		url: '<?php echo base_url('product/set_session_for_cart_items'); ?>',
    		method: 'POST',
    		data: {cart_items: products},
    		success: function(data) {
    			if (data == "true") {
    				window.location = "<?php echo base_url('product/submit_order'); ?>";
    				console.log(data);
    			}
    		},
    		error: function(error) {
    			console.log(error);
    		}
    	});
    });

});

</script>
</body>
</html>